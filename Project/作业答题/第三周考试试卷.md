# work

# 第三周考试试卷

# **S1第****三****周考试试卷**

 

一、简答题（5分，总共55分）

（1）、Java权限修饰符有哪些？有何区别？

​			

|         | 同一类中 | 同一包的类 | 其他包的子类 | 其他包的无关类 |
| ------- | -------- | ---------- | ------------ | -------------- |
| public  | 1        | 1          | 1            | 1              |
| protect | 1        | 1          | 1            |                |
| private | 1        |            |              |                |
| default | 1        | 1          |              |                |

（2）、重载与重写的区别？

 重写只改了方法体，重载重写了参数

1、定义不同：重载是定义相同的方法名、参数不同，重写是子类重写父类的方法
2、范围不同：重载是在一个类中，重写是子类与父类之间的
3、多态不同：重载是编译时的多态性，重写是运行时的多态性
4、参数不同：重载的参数个数、参数类型、参数的顺序可以不同，重写父类子方法参数必须相同
5、修饰不同：重载对修饰范围没有要求，重写要求重写方法的修饰范围大于被重写方法的修饰范围

（3）、多态的实现条件有哪些？

1.需要有继承（继承类，继承抽象类，实现接口）
2.需要有重写
3.父类型的引用执行子类型



（4）、多态的使用场合有哪些？

1、通过方法的参数传递形成多态

~~~java
public static void draw(Super s){    
    s.show(); 
} 
draw(new Sub); 
~~~

2、在方法体中直接使用多态的语法格式

~~~java
Super s=new Sub();
~~~

3、通过方法的返回值类型形成多态

~~~java
public static Super draw(){    
    retrun new Sub; 
} 
Super s=Super.draw();
~~~



（5）、解释一下什么是开闭原则？

 软件中的对象（类、函数、模块等）应该扩展开放，对修改关闭



（6）、final、finally、finalize分别表示什么意思？

 final是关键字，修饰类、方法、变量等，代表最终的

finally接在try-catch结构后，是try-catch执行完后必须执行的模块

finalize是Object类的一个方法，如果子类中重写了该方法，在垃圾收集器执行的时候会调用被回收对象的此方法。



（7）、throw、throws、Throwable 分别表示什么意思？

 throw是手动抛出运行时异常

throws是方法声明异常，将异常交给调用者处理

Throwable是异常的根类



（8）、抽象类和接口的联系与区别？

 联系：抽象类可以实现接口，并且可以实现接口中任意数量的方法

区别：抽象类可以有普通方法，接口只能有抽象方法

​			抽象类是对动作的抽象，比如人吃东西，狗吃东西，接口是对根源的抽象，比如男人是人，女人也是人

​			类可以实现多个接口，但只能继承一个抽象类

​			抽象类可以有普通变量，接口只能有静态最终变量



（9）、内部类有什么特点

 		1、内部类可以当成 外包类的一个成员变量使用

​		2、可以是类和接口，可以继承和实现

​		3、内部类的作用域仅仅在它声明的类和方法体中，如果内部类要在外部引用则必须用：外部类类名 .内部类类名 内部对象引用名=外部类对象名.new 内部类构造名（）；或

外部类类名.内部类类名 内部对象引用名=new 外部类构造名.内部类构造名（）；



（10）、请问垃圾回收机制是什么？

 回收不可达的对象，程序员不能强制执行，只能System.gc 方法来“建议”执行



（11）、数组的优点和缺点是什么？

优点：方便随机访问，给个下标就能找到

缺点：除了最后一个元素，随机删改效率低



二、编程题（总共45分）

1、定义一个引用类型老师Teacher(name姓名,age年龄,salary薪水)的数组，按老师的年龄排序（降序），如果年龄相同，则按薪水排序（升序）（两种比较器各实现一次）（10）

  ~~~java
  package test.question1;
  
  public class Teacher implements Comparable<Teacher>{
      String name;
      int age;
      double salary;
  
  
  
      public String getName() {
          return name;
      }
  
      public void setName(String name) {
          this.name = name;
      }
  
      public int getAge() {
          return age;
      }
  
      public void setAge(int age) {
          this.age = age;
      }
  
      public double getSalary() {
          return salary;
      }
  
      public void setSalary(double salary) {
          this.salary = salary;
      }
  
      @Override
      public String toString() {
          return "Teacher{" +
                  "name='" + name + '\'' +
                  ", age=" + age +
                  ", salary=" + salary +
                  '}';
      }
  
      public Teacher(String name, int age, double salary) {
          this.name = name;
          this.age = age;
          this.salary = salary;
      }
  
      public Teacher() {
      }
  
      public static void main(String[] args) {
          Teacher[] arr = { new Teacher("赵国栋", 54, 9000), new Teacher("马华", 76, 8900), new Teacher("三儿子", 34, 7800),
                  new Teacher("你带事", 34, 8800), new Teacher("刘哥", 23, 1200) };
          // 排序前
          System.out.println("排序前");
          for (Teacher teacher : arr) {
              System.out.print(teacher);
          }
          System.out.println();
          for (int i = 0; i < arr.length; i++) {
              for (int j = i+1; j < arr.length; j++) {
                  Comparable s1=arr[i];
                  Comparable s2=arr[j];
                  if (s1.compareTo(s2)>0){
                      Teacher temp=arr[i];
                      arr[i]=arr[j];
                      arr[j]=temp;
                  }
              }
          }
  
          for (Teacher teacher : arr) {
              System.out.print(teacher);
          }
      }
  
      @Override
      public int compareTo(Teacher o) {
         if (age!=o.age){
           return -(age-o.age);
         }else {
          return Double.compare(salary,o.salary);
         }
      }
  }
  
  
  ~~~



2、设计类：用户注册信息功能（10）

要求：

（1）用户名 name 包含大写字母、小写字母和数字，长度不少于8位。不允许其他非法字符，如果不符合抛出自定义异常。String regex = “[a-zA-Z0-9]{8,}”;

（2）密码 password 包含大写字母、小写字母和数字和$,长度不少于8位。不允许其他非法字符，如果不符合输出错误提示。

（3）身份证号码 IDCard 符合现实身份证的要求，如果不符合，输出错误提示。

（4）年龄 age，符合人类自然规律

（5）性别 sex，符合人类自然规律

 如果都符合，保存到数据库中，并输出对应的信息。

 否则输出相应的异常提示信息。

 

 ~~~java
 package test.question2;
 
 public class TestRegister {
     public static void main(String[] args) {
         run();
     }
 
     private static void run() {
         String name = "as2Adqwe2";
         String pwd = "adsW22fds";
         String id = "43092120010513321X";
         int age = 18;
         String sex = "female";
 
         try {
             if (judgeName(name) && judgePwd(pwd) && judgeId(id) && judgeAge(age) && judgeSex(sex)) {
                 System.out.println("保存到数据库");
             } else throw new RuntimeException("信息异常");
         } catch (Exception e) {
             System.out.println(e.getMessage());
         }
 
     }
 
     private static boolean judgeSex(String sex) {
         if ("male".equals(sex) || "female".equals(sex)) {
             return true;
         }
         System.out.println("性别信息不对");
         return false;
     }
 
     private static boolean judgeAge(int age) {
         if (age >= 0 && age < 200) return true;
         System.out.println("年龄信息不对");
         return false;
     }
 
     private static boolean judgeId(String id) {
         if (id.matches("\\d{17}[\\d|X]|\\d{15}")) return true;
         System.out.println("身份证信息不对");
         return false;
     }
 
     private static boolean judgePwd(String pwd) {
         if (pwd.matches("[a-zA-Z0-9,$]{8,}")) return true;
         System.out.println("密码信息不对");
         return false;
     }
 
     private static boolean judgeName(String name) {
         if (name.matches("[a-zA-Z0-9]{8,}")) return true;
         System.out.println("姓名信息不对");
         return false;
     }
 
 }
 ~~~



3、利用简单工厂设计模式，设计一个手机工厂类，通过工厂类生产手机，并把手机的相关信息输出到控制台。（10分）

 ~~~java
 package test.question3;
 
 public class Factory {
     public static void main(String[] args) {
         PhoneFactory factory = new PhoneFactory();
         factory.createPhone("B");
     }
 }
 
 
 class PhoneFactory{
     public void createPhone(String type){
         Phone phone;
         switch (type){
             case "A":
                phone=new PhoneA();
                 phone.show();
                 break;
             case "B":
                 phone=new PhoneB();
                 phone.show();
                 break;
             default:
                 System.out.println("输入错误");
                 break;
         }
     }
 }
 
 class PhoneB implements Phone{
     @Override
     public void show() {
         System.out.println("PhoneBBB");
     }
 }
 
 class PhoneA implements Phone{
     @Override
     public void show() {
         System.out.println("PhoneAAA");
     }
 }
 
 interface Phone{
     void show();
 }
 ~~~



 

4、使用List和Set存放多个图书信息，遍历并输出。其中商品属性：编号，名称，单价，出版社。（7分）

 

 

5、使用HashSet和TreeSet存储多个商品信息，遍历并输出；其中商品属性：编号，名称，单价，出版社；要求向其中添加多个相同的商品，验证集合中元素的唯一性。（8分）

提示：向HashSet中添加自定义类的对象信息，需要重写hashCode和equals( )

向TreeSet中添加自定义类的对象信息，需要实现Comparable接口，指定比较规则

 